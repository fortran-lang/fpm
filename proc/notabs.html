<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Fortran Package Manager">
    <meta name="author" content="fortran-lang/fpm contributors" >
    <link rel="icon" href="../favicon.png">

    <title>notabs &ndash; Fortran-lang/fpm</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../css/fontawesome.min.css" rel="stylesheet">
    <link href="../css/brands.min.css" rel="stylesheet">
    <link href="../css/regular.min.css" rel="stylesheet">
    <link href="../css/solid.min.css" rel="stylesheet">
    <link href="../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../css/local.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">Fortran-lang/fpm </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../page/index.html">Packaging and contributing</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../program/main.html">Program</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>notabs
      <small>Subroutine</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">
            <li class="list-inline-item" id="meta-author"><i class="fa fa-pencil"></i> John S. Urban</li>
            <li class="list-inline-item" id="meta-license"><i class="fa fa-legal"></i> Public Domain</li>

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true"
                 title=" 0.5% of total for procedures.">36 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/fpm_strings.f90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/fpm_strings.f90.html'>fpm_strings.f90</a></li>
                <li class="breadcrumb-item"><a href='../module/fpm_strings.html'>fpm_strings</a></li>
            <li class="breadcrumb-item active" aria-current="page">notabs</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    // Enable Bootstrap tooltips
    (function () {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    })();
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="card card-primary">
      <div class="card-header text-left"><h3 class="card-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/notabs.html#src">notabs</a>
      </div>
    </div>


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>public impure elemental subroutine notabs(instr, outstr, ilen)  
</h2>
    

    <h3 id="name">NAME</h3>
<p>notabs(3f) - [fpm_strings:NONALPHA] expand tab characters
   (LICENSE:PD)</p>
<h3 id="synopsis">SYNOPSIS</h3>
<div class="codehilite"><pre><span></span><code>subroutine notabs(INSTR,OUTSTR,ILEN)

 character(len=*),intent=(in)  :: INSTR
 character(len=*),intent=(out) :: OUTSTR
 integer,intent=(out)          :: ILEN
</code></pre></div>

<h3 id="description">DESCRIPTION</h3>
<p>NOTABS() converts tabs in INSTR to spaces in OUTSTR while maintaining
   columns. It assumes a tab is set every 8 characters. Trailing spaces
   are removed.</p>
<p>In addition, trailing carriage returns and line feeds are removed
   (they are usually a problem created by going to and from MSWindows).</p>
<p>What are some reasons for removing tab characters from an input line?
   Some Fortran compilers have problems with tabs, as tabs are not
   part of the Fortran character set. Some editors and printers will
   have problems with tabs. It is often useful to expand tabs in input
   files to simplify further processing such as tokenizing an input line.</p>
<h3 id="options">OPTIONS</h3>
<div class="codehilite"><pre><span></span><code> instr     Input line to remove tabs from
</code></pre></div>

<h3 id="results">RESULTS</h3>
<div class="codehilite"><pre><span></span><code> outstr    Output string with tabs expanded. Assumed to be of sufficient
           length
 ilen      Significant length of returned string
</code></pre></div>

<h3 id="examples">EXAMPLES</h3>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>program demo_notabs

!  test filter to remove tabs and trailing white space from input
!  on files up to 1024 characters wide
use fpm_strings, only : notabs
character(len=1024) :: in,out
integer             :: ios,iout
   do
      read(*,&#39;(A)&#39;,iostat=ios)in
      if(ios /= 0) exit
      call notabs(in,out,iout)
      write(*,&#39;(a)&#39;)out(:iout)
   enddo
end program demo_notabs
</code></pre></div>

<h3 id="see-also">SEE ALSO</h3>
<p>GNU/Unix commands expand(1) and unexpand(1)</p>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-instr"></span>
              character(len=*),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>instr</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-outstr"></span>
              character(len=*),
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>outstr</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ilen~2"></span>
              integer,
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ilen</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    <br>


    
    

    
    



    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl codehilite"><pre><span></span><span class="k">elemental impure subroutine </span><span class="n">notabs</span><span class="p">(</span><span class="n">instr</span><span class="p">,</span><span class="n">outstr</span><span class="p">,</span><span class="n">ilen</span><span class="p">)</span>

<span class="c">! ident_31=&quot;@(#)fpm_strings::notabs(3f): convert tabs to spaces while maintaining columns, remove CRLF chars&quot;</span>

<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">   </span><span class="kd">::</span><span class="w"> </span><span class="n">instr</span><span class="w">        </span><span class="c">! input line to scan for tab characters</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">outstr</span><span class="w">       </span><span class="c">! tab-expanded version of INSTR produced</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">           </span><span class="kd">::</span><span class="w"> </span><span class="n">ilen</span><span class="w">         </span><span class="c">! column position of last character put into output string</span>
<span class="w">                                              </span><span class="c">! that is, ILEN holds the position of the last non-blank character in OUTSTR</span>

<span class="kt">integer</span><span class="p">,</span><span class="k">parameter</span><span class="w">             </span><span class="kd">::</span><span class="w"> </span><span class="n">tabsize</span><span class="o">=</span><span class="mi">8</span><span class="w">    </span><span class="c">! assume a tab stop is set every 8th column</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">ipos</span><span class="w">         </span><span class="c">! position in OUTSTR to put next character of INSTR</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">lenin</span><span class="w">        </span><span class="c">! length of input string trimmed of trailing spaces</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">lenout</span><span class="w">       </span><span class="c">! number of characters output string can hold</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">istep</span><span class="w">        </span><span class="c">! counter that advances thru input string INSTR one character at a time</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w">              </span><span class="kd">::</span><span class="w"> </span><span class="n">c</span><span class="w">            </span><span class="c">! character in input line being processed</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">iade</span><span class="w">         </span><span class="c">! ADE (ASCII Decimal Equivalent) of character being tested</span>

<span class="w">   </span><span class="n">ipos</span><span class="o">=</span><span class="mi">1</span><span class="w">                                     </span><span class="c">! where to put next character in output string OUTSTR</span>
<span class="w">   </span><span class="n">lenin</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="n">instr</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">instr</span><span class="p">)</span><span class="w"> </span><span class="p">))</span><span class="w">      </span><span class="c">! length of INSTR trimmed of trailing spaces</span>
<span class="w">   </span><span class="n">lenout</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w">                         </span><span class="c">! number of characters output string OUTSTR can hold</span>
<span class="w">   </span><span class="n">outstr</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="w">                                 </span><span class="c">! this SHOULD blank-fill string, a buggy machine required a loop to set all characters</span>

<span class="w">      </span><span class="n">SCAN_LINE</span><span class="p">:</span><span class="w"> </span><span class="k">do </span><span class="n">istep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">lenin</span><span class="w">             </span><span class="c">! look through input string one character at a time</span>
<span class="w">         </span><span class="n">c</span><span class="o">=</span><span class="n">instr</span><span class="p">(</span><span class="n">istep</span><span class="p">:</span><span class="n">istep</span><span class="p">)</span><span class="w">                 </span><span class="c">! get next character</span>
<span class="w">         </span><span class="n">iade</span><span class="o">=</span><span class="nb">ichar</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w">                        </span><span class="c">! get ADE of the character</span>
<span class="w">         </span><span class="n">EXPAND_TABS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">select case</span><span class="w"> </span><span class="p">(</span><span class="n">iade</span><span class="p">)</span><span class="w">     </span><span class="c">! take different actions depending on which character was found</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="w">                              </span><span class="c">! test if character is a tab and move pointer out to appropriate column</span>
<span class="w">            </span><span class="n">ipos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ipos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">tabsize</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nb">mod</span><span class="p">(</span><span class="n">ipos</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">tabsize</span><span class="p">)))</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span><span class="w">                          </span><span class="c">! convert carriage-return and new-line to space ,typically to handle DOS-format files</span>
<span class="w">            </span><span class="n">ipos</span><span class="o">=</span><span class="n">ipos</span><span class="o">+</span><span class="mi">1</span>
<span class="w">         </span><span class="k">case </span><span class="n">default</span><span class="w">                         </span><span class="c">! c is anything else other than a tab,newline,or return  insert it in output string</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">ipos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">lenout</span><span class="p">)</span><span class="k">then</span>
<span class="k">               write</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s2">&quot;*notabs* output string overflow&quot;</span>
<span class="w">               </span><span class="k">exit</span>
<span class="k">            else</span>
<span class="k">               </span><span class="n">outstr</span><span class="p">(</span><span class="n">ipos</span><span class="p">:</span><span class="n">ipos</span><span class="p">)</span><span class="o">=</span><span class="n">c</span>
<span class="w">               </span><span class="n">ipos</span><span class="o">=</span><span class="n">ipos</span><span class="o">+</span><span class="mi">1</span>
<span class="w">            </span><span class="k">endif</span>
<span class="k">         end select </span><span class="n">EXPAND_TABS</span>
<span class="w">      </span><span class="k">enddo </span><span class="n">SCAN_LINE</span>

<span class="w">      </span><span class="n">ipos</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">ipos</span><span class="p">,</span><span class="n">lenout</span><span class="p">)</span><span class="w">                   </span><span class="c">! tabs or newline or return characters or last character might have gone too far</span>
<span class="w">      </span><span class="n">ilen</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="n">outstr</span><span class="p">(:</span><span class="n">ipos</span><span class="p">))</span><span class="w">            </span><span class="c">! trim trailing spaces</span>

<span class="k">end subroutine </span><span class="n">notabs</span>
</pre></div>

    </section>
    <br>
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Fortran-lang/fpm
 was developed by fortran-lang/fpm contributors<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2025-10-14 10:22 +0000             </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>