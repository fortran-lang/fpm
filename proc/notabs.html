<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Fortran Package Manager">
    <meta name="author" content="fortran-lang/fpm contributors" >
    <link rel="icon" href="../favicon.png">

    <title>notabs &ndash; Fortran-lang/fpm</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

         <script src="../js/jquery-2.1.3.min.js"></script>
         <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">Fortran-lang/fpm </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              <li><a href='../page/index.html'>Packaging and contributing</a></li>
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
                 data-toggle="dropdown" role="button"
                 aria-haspopup="true"
                 aria-expanded="false">
                 Contents <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                    <li><a href="../lists/files.html">Source Files</a></li>
                  <li><a href="../lists/modules.html">Modules</a></li>
                  <li><a href="../lists/procedures.html">Procedures</a></li>
                  <li><a href="../lists/types.html">Derived Types</a></li>
                  <li><a href="../program/main.html">Program</a></li>
              </ul>
            </li>
                <li class="visible-xs hidden-sm visible-lg">
                  <a href="../lists/files.html">Source Files</a>
                </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/modules.html">Modules</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/procedures.html">Procedures</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../lists/types.html">Derived Types</a>
              </li>
              <li class="visible-xs hidden-sm visible-lg">
                <a href="../program/main.html">Program</a>
              </li>
          </ul>
            <form action="../search.html" class="navbar-form navbar-right" role="search">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
              </div>
              <!--
                  <button type="submit" class="btn btn-default">Submit</button>
                  -->
            </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
  <div class="row">
    <h1>notabs
      <small>Subroutine</small>
      
    </h1>
      <div class="row" id="info-bar">
    <div class="col-lg-12">
      <div class="well well-sm">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">
            <li id="meta-author"><i class="fa fa-pencil"></i> John S. Urban</li>
            <li id="meta-license"><i class="fa fa-legal"></i> Public Domain</li>

          <li id="statements"><i class="fa fa-list-ol"></i>
            <a data-toggle="tooltip"
               data-placement="bottom" data-html="true"
               title=" 0.7% of total for procedures.">36 statements</a>
          </li>

            <li id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/fpm_strings.f90"> Source File</a>
            </li>
        </ul>
        <ol class="breadcrumb in-well text-right">
              <li><a href='../sourcefile/fpm_strings.f90.html'>fpm_strings.f90</a></li>
              <li><a href='../module/fpm_strings.html'>fpm_strings</a></li>
          <li class="active">notabs</li>
        </ol>
      </div>
    </div>
  </div>
  <script>
    $(function () {
    $('[data-toggle="tooltip"]').tooltip()
    })
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="panel panel-primary">
      <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/notabs.html#src">notabs</a>
      </div>
    </div>


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>public impure elemental subroutine notabs(instr, outstr, ilen)  
</h2>
    

    <h3 id="name">NAME</h3>
<p>notabs(3f) - [fpm_strings:NONALPHA] expand tab characters
   (LICENSE:PD)</p>
<h3 id="synopsis">SYNOPSIS</h3>
<div class="codehilite"><pre><span></span><code>subroutine notabs(INSTR,OUTSTR,ILEN)

 character(len=*),intent=(in)  :: INSTR
 character(len=*),intent=(out) :: OUTSTR
 integer,intent=(out)          :: ILEN
</code></pre></div>

<h3 id="description">DESCRIPTION</h3>
<p>NOTABS() converts tabs in INSTR to spaces in OUTSTR while maintaining
   columns. It assumes a tab is set every 8 characters. Trailing spaces
   are removed.</p>
<p>In addition, trailing carriage returns and line feeds are removed
   (they are usually a problem created by going to and from MSWindows).</p>
<p>What are some reasons for removing tab characters from an input line?
   Some Fortran compilers have problems with tabs, as tabs are not
   part of the Fortran character set. Some editors and printers will
   have problems with tabs. It is often useful to expand tabs in input
   files to simplify further processing such as tokenizing an input line.</p>
<h3 id="options">OPTIONS</h3>
<div class="codehilite"><pre><span></span><code> instr     Input line to remove tabs from
</code></pre></div>

<h3 id="results">RESULTS</h3>
<div class="codehilite"><pre><span></span><code> outstr    Output string with tabs expanded. Assumed to be of sufficient
           length
 ilen      Significant length of returned string
</code></pre></div>

<h3 id="examples">EXAMPLES</h3>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_notabs</span>

<span class="o">!</span>  <span class="nv">test</span> <span class="nv">filter</span> <span class="nv">to</span> <span class="nv">remove</span> <span class="nv">tabs</span> <span class="nv">and</span> <span class="nv">trailing</span> <span class="nv">white</span> <span class="nv">space</span> <span class="nv">from</span> <span class="nv">input</span>
<span class="o">!</span>  <span class="nv">on</span> <span class="nv">files</span> <span class="nv">up</span> <span class="nv">to</span> <span class="mi">1024</span> <span class="nv">characters</span> <span class="nv">wide</span>
<span class="nv">use</span> <span class="nv">fpm_strings</span>, <span class="nv">only</span> : <span class="nv">notabs</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">1024</span><span class="ss">)</span> :: <span class="nv">in</span>,<span class="nv">out</span>
<span class="nv">integer</span>             :: <span class="nv">ios</span>,<span class="nv">iout</span>
   <span class="k">do</span>
      <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(A)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">in</span>
      <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span> <span class="o">/=</span> <span class="mi">0</span><span class="ss">)</span> <span class="k">exit</span>
      <span class="k">call</span> <span class="nl">notabs</span><span class="ss">(</span><span class="nv">in</span>,<span class="nv">out</span>,<span class="nv">iout</span><span class="ss">)</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span><span class="ss">)</span><span class="nv">out</span><span class="ss">(</span>:<span class="nv">iout</span><span class="ss">)</span>
   <span class="nv">enddo</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_notabs</span>
</code></pre></div>

<h3 id="see-also">SEE ALSO</h3>
<p>GNU/Unix commands expand(1) and unexpand(1)</p>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th>Type</th>
<th>Intent</th><th>Optional</th>        <th>Attributes</th>
        <th></th>
        <th>Name</th>
        <th></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-instr~2"></span>
              character(len=*),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>instr</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-outstr~2"></span>
              character(len=*),
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>outstr</strong></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ilen"></span>
              integer,
            </td>
<td>intent(out)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ilen</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

    <br>

    <section class="visible-xs visible-sm hidden-md">
        <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="panel panel-primary">
      <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/notabs.html#src">notabs</a>
      </div>
    </div>


    </section>
    <br class="visible-xs visible-sm hidden-md">


    
    

    
    


    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="highlight"><pre><span></span><span class="k">elemental impure subroutine </span><span class="n">notabs</span><span class="p">(</span><span class="n">instr</span><span class="p">,</span><span class="n">outstr</span><span class="p">,</span><span class="n">ilen</span><span class="p">)</span><span class="w"></span>

<span class="c">! ident_31=&quot;@(#)fpm_strings::notabs(3f): convert tabs to spaces while maintaining columns, remove CRLF chars&quot;</span>

<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">   </span><span class="kd">::</span><span class="w"> </span><span class="n">instr</span><span class="w">        </span><span class="c">! input line to scan for tab characters</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">outstr</span><span class="w">       </span><span class="c">! tab-expanded version of INSTR produced</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">           </span><span class="kd">::</span><span class="w"> </span><span class="n">ilen</span><span class="w">         </span><span class="c">! column position of last character put into output string</span>
<span class="w">                                              </span><span class="c">! that is, ILEN holds the position of the last non-blank character in OUTSTR</span>

<span class="kt">integer</span><span class="p">,</span><span class="k">parameter</span><span class="w">             </span><span class="kd">::</span><span class="w"> </span><span class="n">tabsize</span><span class="o">=</span><span class="mi">8</span><span class="w">    </span><span class="c">! assume a tab stop is set every 8th column</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">ipos</span><span class="w">         </span><span class="c">! position in OUTSTR to put next character of INSTR</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">lenin</span><span class="w">        </span><span class="c">! length of input string trimmed of trailing spaces</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">lenout</span><span class="w">       </span><span class="c">! number of characters output string can hold</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">istep</span><span class="w">        </span><span class="c">! counter that advances thru input string INSTR one character at a time</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w">              </span><span class="kd">::</span><span class="w"> </span><span class="n">c</span><span class="w">            </span><span class="c">! character in input line being processed</span>
<span class="kt">integer</span><span class="w">                       </span><span class="kd">::</span><span class="w"> </span><span class="n">iade</span><span class="w">         </span><span class="c">! ADE (ASCII Decimal Equivalent) of character being tested</span>

<span class="w">   </span><span class="n">ipos</span><span class="o">=</span><span class="mi">1</span><span class="w">                                     </span><span class="c">! where to put next character in output string OUTSTR</span>
<span class="w">   </span><span class="n">lenin</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="n">instr</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">instr</span><span class="p">)</span><span class="w"> </span><span class="p">))</span><span class="w">      </span><span class="c">! length of INSTR trimmed of trailing spaces</span>
<span class="w">   </span><span class="n">lenout</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">outstr</span><span class="p">)</span><span class="w">                         </span><span class="c">! number of characters output string OUTSTR can hold</span>
<span class="w">   </span><span class="n">outstr</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="w">                                 </span><span class="c">! this SHOULD blank-fill string, a buggy machine required a loop to set all characters</span>

<span class="w">      </span><span class="n">SCAN_LINE</span><span class="p">:</span><span class="w"> </span><span class="k">do </span><span class="n">istep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">lenin</span><span class="w">             </span><span class="c">! look through input string one character at a time</span>
<span class="w">         </span><span class="n">c</span><span class="o">=</span><span class="n">instr</span><span class="p">(</span><span class="n">istep</span><span class="p">:</span><span class="n">istep</span><span class="p">)</span><span class="w">                 </span><span class="c">! get next character</span>
<span class="w">         </span><span class="n">iade</span><span class="o">=</span><span class="nb">ichar</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w">                        </span><span class="c">! get ADE of the character</span>
<span class="w">         </span><span class="n">EXPAND_TABS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">select case</span><span class="w"> </span><span class="p">(</span><span class="n">iade</span><span class="p">)</span><span class="w">     </span><span class="c">! take different actions depending on which character was found</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="w">                              </span><span class="c">! test if character is a tab and move pointer out to appropriate column</span>
<span class="w">            </span><span class="n">ipos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ipos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">tabsize</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="nb">mod</span><span class="p">(</span><span class="n">ipos</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">tabsize</span><span class="p">)))</span><span class="w"></span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span><span class="w">                          </span><span class="c">! convert carriage-return and new-line to space ,typically to handle DOS-format files</span>
<span class="w">            </span><span class="n">ipos</span><span class="o">=</span><span class="n">ipos</span><span class="o">+</span><span class="mi">1</span><span class="w"></span>
<span class="w">         </span><span class="k">case </span><span class="n">default</span><span class="w">                         </span><span class="c">! c is anything else other than a tab,newline,or return  insert it in output string</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">ipos</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">lenout</span><span class="p">)</span><span class="k">then</span>
<span class="k">               write</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s2">&quot;*notabs* output string overflow&quot;</span><span class="w"></span>
<span class="w">               </span><span class="k">exit</span>
<span class="k">            else</span>
<span class="k">               </span><span class="n">outstr</span><span class="p">(</span><span class="n">ipos</span><span class="p">:</span><span class="n">ipos</span><span class="p">)</span><span class="o">=</span><span class="n">c</span><span class="w"></span>
<span class="w">               </span><span class="n">ipos</span><span class="o">=</span><span class="n">ipos</span><span class="o">+</span><span class="mi">1</span><span class="w"></span>
<span class="w">            </span><span class="k">endif</span>
<span class="k">         end select </span><span class="n">EXPAND_TABS</span><span class="w"></span>
<span class="w">      </span><span class="k">enddo </span><span class="n">SCAN_LINE</span><span class="w"></span>

<span class="w">      </span><span class="n">ipos</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">ipos</span><span class="p">,</span><span class="n">lenout</span><span class="p">)</span><span class="w">                   </span><span class="c">! tabs or newline or return characters or last character might have gone too far</span>
<span class="w">      </span><span class="n">ilen</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="n">outstr</span><span class="p">(:</span><span class="n">ipos</span><span class="p">))</span><span class="w">            </span><span class="c">! trim trailing spaces</span>

<span class="k">end subroutine </span><span class="n">notabs</span><span class="w"></span>
</pre></div>

    </section>
    <br>
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-xs-6 col-md-6"><p>Fortran-lang/fpm was developed by fortran-lang/fpm contributors<br>&copy; 2023 
</p>
          </div>
          <div class="col-xs-6 col-md-6">
            <p class="text-right">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2023-06-19 06:00              </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript
         ================================================== -->
         <!-- Placed at the end of the document so the pages load faster -->
    <!--
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        -->
        <script src="../js/bootstrap.min.js"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="../js/ie10-viewport-bug-workaround.js"></script>

        <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>